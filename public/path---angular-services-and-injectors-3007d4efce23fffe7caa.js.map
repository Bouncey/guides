{"version":3,"sources":["webpack:///path---angular-services-and-injectors-3007d4efce23fffe7caa.js","webpack:///./.cache/json/angular-services-and-injectors.json"],"names":["webpackJsonp","3594","module","exports","data","markdownRemark","html","fields","slug","frontmatter","title","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,KACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,gBAAkBC,KAAA,i68BAAyg8BC,QAAu8CC,KAAA,oCAA0CC,aAAgBC,MAAA,4BAAmCC,aAAgBH,KAAA","file":"path---angular-services-and-injectors-3007d4efce23fffe7caa.js","sourcesContent":["webpackJsonp([24036312712708],{\n\n/***/ 3594:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<h1>Services and Injectors</h1>\\n<h4>Motivation</h4>\\n<p>Components are responsible for the data that renders into the template. Having external <em>services</em> to draw upon can simplify this responsibility. Plus, encapsulating extraneous is much easier to maintain.</p>\\n<p>Delegating too many responsibilities onto a single component can complicate the component class. And what if these responsibilities applied to several components? Copying and pasting such logic is extremely poor practice. Any future changes to the logic would be harder to implement and test.</p>\\n<p>Angular meant to curb this issue with services and dependency injection. Both concepts work together to provide <em>modular</em> functionality.</p>\\n<p>Components do not need to provide any extraneous information either. A services imports what it needs to function on behalf of the components it <em>services</em>. The components only need to instantiate the service. From there they <em>service</em> their own needs with the instantiated service instance.</p>\\n<p>As for testing and future modification, all the logic is in one place. The service instantiates from its source. Tests and modifications to the source apply anywhere the service is injected.</p>\\n<h4>Introduction to Services</h4>\\n<p>A service is a type of <em>schematic</em> available in Angular. It is generatable by the command-line interface (CLI): <code>ng generate service [name-of-service]</code>. Replace <code>[name-of-service]</code> with a preferable name. The CLI command yields the following.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Injectable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n@<span class=\\\"token function\\\">Injectable</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  providedIn<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'root'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LoggerService</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>The logic of a service is distinct within its class.  Angular interprets a class as an <em>injectable</em> service based off the <code>@Injectable</code> decorator. Injectable services must <em>register</em> with an injector.</p>\\n<p>The component instantiates a service while the injector provides that instance. Keep reading into the next section for more on injectors.</p>\\n<p>The <code>@Injectable</code> metadata field <code>providedIn: ‘root’</code> targets the root module of the current application (<code>app.module.ts</code>). It registers the service with the module’s injector so that it can <em>inject</em> that service into any of its children.</p>\\n<p>Injectors are the building blocks of Angular’s dependency injection system. Injectors are a good place to focus your attention before continuing with services.</p>\\n<h4>Injectors</h4>\\n<p>An application, beginning with <code>app.module.ts</code>, contains a hierarchy of injectors. They exist alongside each module and component in the application tree.</p>\\n<p><img src=\\\"https://raw.githubusercontent.com/sosmaniac-FCC/designatedata/master/image5.png\\\" alt=\\\"Application Hierarchy\\\"></p>\\n<p>The green circles indicate injectors. They provide service instances to instantiating components. Depending on which injector a service is registered with, it may or may not be available to a component.</p>\\n<p>Services registered at the root of the app (<code>app.module.ts</code>) are available to all components. An injector for a component may not have a certain service registered. If that is the case and the component requests its instantiation, the injector will defer to its parent. This trend continues until either reaching the root injector or the service is found.</p>\\n<p>Looking at the diagram, say that a service registers at point B’s injector. All components at point C and down will not be able to access the service registered at B’s injector. Injectors will never defer to their children for a service instance.</p>\\n<h4>Dependency Injection</h4>\\n<p>There are multiple ways to register a service with an application’s injectors.</p>\\n<p>The <code>providedIn: ‘root’</code> metadata field of <code>@Injectable</code> provides the most recommended approach. This metadata field released with Angular 6.</p>\\n<p>As mentioned before,  <code>providedIn: ‘root’</code> registers a service with the root module injector. It is instantiable across the entire application as a result.</p>\\n<p>The novelty of <code>providedIn: ‘root’</code> is <em>tree-shaking</em>. If the service is unused despite its registration, it gets <em>shaken</em> from the application at run-time. That way it does not consume any resources.</p>\\n<p>The other two ways are more direct and traditional. Granted, they do not offer tree-shaking.</p>\\n<p>A service can register with any injector along the component tree. You insert the service as a provider in the <code>@Component</code> metadata field: <code>providers: []</code>. The service is available to the component and its children</p>\\n<p>In the third registration strategy, the <code>providers: []</code> metadata exists as its own field in the <code>@NgModule</code> decorator. The service is instantiable from the module to the underlying component tree.</p>\\n<p>Remember that unlike with <code>providedIn: ‘root’</code>, <code>@NgModule</code> registration does not offer tree-shaking. Both strategies are otherwise identical. Once a service registers with <code>@NgModule</code>, it consumes resources even if left unused by the application.</p>\\n<h4>Services Continued</h4>\\n<p>Writing an actual service comes next. To recap, services handle certain functions on behalf of an application’s components.</p>\\n<p>Services excel at handling common operations. They spare components the responsibility by doing so. It saves time not having to re-write common operations across multiple components. It is also more testable because the code is in one place. Changes only need to happen in one place without having to search elsewhere.</p>\\n<h4>Use Cases</h4>\\n<p>A couple examples goes a long way towards a complete understanding of services.</p>\\n<ul>\\n<li>\\n<p>console logs</p>\\n</li>\\n<li>\\n<p>API requests</p>\\n</li>\\n</ul>\\n<p>Both are common across most applications. Having services to handle these operations will reduce component complexity.</p>\\n<h5>Console Logs</h5>\\n<p>This example builds up from the base <code>@Injectable</code> skeleton. The skeleton is available through executing the CLI (<code>ng generate service [name-of-service]]</code>).</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// services/logger.service.ts</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Injectable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">LogMessage</span> <span class=\\\"token punctuation\\\">{</span>\\n  message<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">;</span>\\n  timestamp<span class=\\\"token punctuation\\\">:</span>Date<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n@<span class=\\\"token function\\\">Injectable</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  providedIn<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'root'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LoggerService</span> <span class=\\\"token punctuation\\\">{</span>\\n  callStack<span class=\\\"token punctuation\\\">:</span>LogMessage<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">addLog</span><span class=\\\"token punctuation\\\">(</span>message<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// prepend new log to bottom of stack</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">{</span> message<span class=\\\"token punctuation\\\">,</span> timestamp<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Date</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">clear</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// clear stack</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">printHead</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// print bottom of stack</span>\\n      console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">||</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">printLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// print bottom to top of stack on screen</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">reverse</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>logMessage<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span>logMessage<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">getLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>LogMessage<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// return the entire log as an array</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">reverse</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>LoggerService registers with the root module through the <code>@Injectable</code> metadata. Thus it can instantiate in the <code>app.component.html</code>.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// app.component.ts</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Component<span class=\\\"token punctuation\\\">,</span> OnInit <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> LoggerService <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'./services/logger.service'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n@<span class=\\\"token function\\\">Component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  selector<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'app-root'</span><span class=\\\"token punctuation\\\">,</span>\\n  templateUrl<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./app.component.html'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">AppComponent</span> <span class=\\\"token keyword\\\">implements</span> <span class=\\\"token class-name\\\">OnInit</span> <span class=\\\"token punctuation\\\">{</span>\\n  logs<span class=\\\"token punctuation\\\">:</span>object<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">private</span> logger<span class=\\\"token punctuation\\\">:</span>LoggerService<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">updateLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">printHead</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logs <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">logMessage</span><span class=\\\"token punctuation\\\">(</span>event<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">any</span><span class=\\\"token punctuation\\\">,</span> message<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      event<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">preventDefault</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`Message: </span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>message<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">clearLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">clear</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logs <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">ngOnInit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addLog</span><span class=\\\"token punctuation\\\">(</span>“View Initialized”<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>The template HTML provides further insight into the component’s use of LoggerService.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-html\\\"><code><span class=\\\"token comment\\\" spellcheck=\\\"true\\\">&lt;!-- app.component.html --></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h1</span><span class=\\\"token punctuation\\\">></span></span>Log Example<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h1</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>form</span> <span class=\\\"token attr-name\\\">(submit)</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>logMessage($event, userInput.value)<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>input</span> <span class=\\\"token attr-name\\\">#userInput</span> <span class=\\\"token attr-name\\\">placeholder</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>Type a message...<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>button</span> <span class=\\\"token attr-name\\\">type</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>submit<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>SUBMIT<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>button</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>form</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h3</span><span class=\\\"token punctuation\\\">></span></span>Complete Log<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h3</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>button</span> <span class=\\\"token attr-name\\\">type</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>button<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">(click)</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>clearLog()<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>CLEAR<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>button</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>ul</span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>li</span> <span class=\\\"token attr-name\\\">*ngFor</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>let log of logs; let i<span class=\\\"token punctuation\\\">=</span>index<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>{{ logs.length - i }} > {{ log.message }} @ {{ log.timestamp }}<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>li</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>ul</span><span class=\\\"token punctuation\\\">></span></span>\\n</code></pre>\\n      </div>\\n<p>This has the feel of a ToDo application. You can log messages and clear the log of messages. Imagine if all the logic from the service was shoved into AppComponent! It would have complicated the code. LoggerService keeps the log-related code encapsulated from the core AppComponent class.</p>\\n<h5>Fetch Requests</h5>\\n<p>Here is one more example worth playing around with. This example is possible thanks to <a href=\\\"https://jsonplaceholder.typicode.com\\\">typicode’s JSONPlaceholder<sup>1</sup></a>. The API is public and free to use.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Injectable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> HttpClient <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/common/http'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Observable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'rxjs'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// https://jsonplaceholder.typicode.com</span>\\n<span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// public API created by typicode @ https://github.com/typicode</span>\\n\\n<span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">Post</span> <span class=\\\"token punctuation\\\">{</span>\\n  userId<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">number</span><span class=\\\"token punctuation\\\">;</span>\\n  id<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">number</span><span class=\\\"token punctuation\\\">;</span>\\n  title<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">;</span>\\n  body<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n@<span class=\\\"token function\\\">Injectable</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  providedIn<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'root'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">PlaceholderService</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">private</span> http<span class=\\\"token punctuation\\\">:</span>HttpClient<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">getPosts</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>Observable<span class=\\\"token operator\\\">&lt;</span>Post<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'https://jsonplaceholder.typicode.com/posts'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">getPost</span><span class=\\\"token punctuation\\\">(</span>id<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">number</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>Observable<span class=\\\"token operator\\\">&lt;</span>Post<span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`https://jsonplaceholder.typicode.com/posts/</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>id<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>This is more of a stand-alone piece than a fully fleshed out example. Fetch requests tend to work better as an injectable service. The alternative is an over-complicated component. The injected class subscribes to what the PlaceholderService pre-configures.</p>\\n<h4>Conclusion</h4>\\n<p>Services and dependency injection are very useful together. They allow developers to encapsulate common logic and inject across multiple different components. This alone is a massive convenience for any future maintenance.</p>\\n<p>Injectors work as intermediaries. They mediate between instantiating components and a reservoir of registered services. Injectors offer these instantiable services to their branch children.</p>\\n<p>See the next few links for more information on services and dependency injection.</p>\\n<h2>Sources</h2>\\n<ol>\\n<li><a href=\\\"https://jsonplaceholder.typicode.com\\\">Typicode, <em>JSONPlaceholder</em>, https://jsonplaceholder.typicode.com, Accessed 29 May 2018.</a></li>\\n</ol>\\n<h2>Resources</h2>\\n<ul>\\n<li>\\n<p><a href=\\\"https://angular.io/docs\\\">Angular Documentation</a></p>\\n</li>\\n<li>\\n<p><a href=\\\"https://github.com/angular/angular\\\">Angular GitHub Repository</a></p>\\n</li>\\n<li>\\n<p><a href=\\\"https://angular.io/guide/dependency-injection-pattern\\\">Dependency Injection</a></p>\\n</li>\\n<li>\\n<p><a href=\\\"https://angular.io/guide/architecture-services\\\">Intro to Services and DI</a></p>\\n</li>\\n</ul>\",\"fields\":{\"slug\":\"/angular/services-and-injectors/\"},\"frontmatter\":{\"title\":\"Services and Injectors\"}}},\"pathContext\":{\"slug\":\"/angular/services-and-injectors/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---angular-services-and-injectors-3007d4efce23fffe7caa.js","module.exports = {\"data\":{\"markdownRemark\":{\"html\":\"<h1>Services and Injectors</h1>\\n<h4>Motivation</h4>\\n<p>Components are responsible for the data that renders into the template. Having external <em>services</em> to draw upon can simplify this responsibility. Plus, encapsulating extraneous is much easier to maintain.</p>\\n<p>Delegating too many responsibilities onto a single component can complicate the component class. And what if these responsibilities applied to several components? Copying and pasting such logic is extremely poor practice. Any future changes to the logic would be harder to implement and test.</p>\\n<p>Angular meant to curb this issue with services and dependency injection. Both concepts work together to provide <em>modular</em> functionality.</p>\\n<p>Components do not need to provide any extraneous information either. A services imports what it needs to function on behalf of the components it <em>services</em>. The components only need to instantiate the service. From there they <em>service</em> their own needs with the instantiated service instance.</p>\\n<p>As for testing and future modification, all the logic is in one place. The service instantiates from its source. Tests and modifications to the source apply anywhere the service is injected.</p>\\n<h4>Introduction to Services</h4>\\n<p>A service is a type of <em>schematic</em> available in Angular. It is generatable by the command-line interface (CLI): <code>ng generate service [name-of-service]</code>. Replace <code>[name-of-service]</code> with a preferable name. The CLI command yields the following.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Injectable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n@<span class=\\\"token function\\\">Injectable</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  providedIn<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'root'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LoggerService</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>The logic of a service is distinct within its class.  Angular interprets a class as an <em>injectable</em> service based off the <code>@Injectable</code> decorator. Injectable services must <em>register</em> with an injector.</p>\\n<p>The component instantiates a service while the injector provides that instance. Keep reading into the next section for more on injectors.</p>\\n<p>The <code>@Injectable</code> metadata field <code>providedIn: ‘root’</code> targets the root module of the current application (<code>app.module.ts</code>). It registers the service with the module’s injector so that it can <em>inject</em> that service into any of its children.</p>\\n<p>Injectors are the building blocks of Angular’s dependency injection system. Injectors are a good place to focus your attention before continuing with services.</p>\\n<h4>Injectors</h4>\\n<p>An application, beginning with <code>app.module.ts</code>, contains a hierarchy of injectors. They exist alongside each module and component in the application tree.</p>\\n<p><img src=\\\"https://raw.githubusercontent.com/sosmaniac-FCC/designatedata/master/image5.png\\\" alt=\\\"Application Hierarchy\\\"></p>\\n<p>The green circles indicate injectors. They provide service instances to instantiating components. Depending on which injector a service is registered with, it may or may not be available to a component.</p>\\n<p>Services registered at the root of the app (<code>app.module.ts</code>) are available to all components. An injector for a component may not have a certain service registered. If that is the case and the component requests its instantiation, the injector will defer to its parent. This trend continues until either reaching the root injector or the service is found.</p>\\n<p>Looking at the diagram, say that a service registers at point B’s injector. All components at point C and down will not be able to access the service registered at B’s injector. Injectors will never defer to their children for a service instance.</p>\\n<h4>Dependency Injection</h4>\\n<p>There are multiple ways to register a service with an application’s injectors.</p>\\n<p>The <code>providedIn: ‘root’</code> metadata field of <code>@Injectable</code> provides the most recommended approach. This metadata field released with Angular 6.</p>\\n<p>As mentioned before,  <code>providedIn: ‘root’</code> registers a service with the root module injector. It is instantiable across the entire application as a result.</p>\\n<p>The novelty of <code>providedIn: ‘root’</code> is <em>tree-shaking</em>. If the service is unused despite its registration, it gets <em>shaken</em> from the application at run-time. That way it does not consume any resources.</p>\\n<p>The other two ways are more direct and traditional. Granted, they do not offer tree-shaking.</p>\\n<p>A service can register with any injector along the component tree. You insert the service as a provider in the <code>@Component</code> metadata field: <code>providers: []</code>. The service is available to the component and its children</p>\\n<p>In the third registration strategy, the <code>providers: []</code> metadata exists as its own field in the <code>@NgModule</code> decorator. The service is instantiable from the module to the underlying component tree.</p>\\n<p>Remember that unlike with <code>providedIn: ‘root’</code>, <code>@NgModule</code> registration does not offer tree-shaking. Both strategies are otherwise identical. Once a service registers with <code>@NgModule</code>, it consumes resources even if left unused by the application.</p>\\n<h4>Services Continued</h4>\\n<p>Writing an actual service comes next. To recap, services handle certain functions on behalf of an application’s components.</p>\\n<p>Services excel at handling common operations. They spare components the responsibility by doing so. It saves time not having to re-write common operations across multiple components. It is also more testable because the code is in one place. Changes only need to happen in one place without having to search elsewhere.</p>\\n<h4>Use Cases</h4>\\n<p>A couple examples goes a long way towards a complete understanding of services.</p>\\n<ul>\\n<li>\\n<p>console logs</p>\\n</li>\\n<li>\\n<p>API requests</p>\\n</li>\\n</ul>\\n<p>Both are common across most applications. Having services to handle these operations will reduce component complexity.</p>\\n<h5>Console Logs</h5>\\n<p>This example builds up from the base <code>@Injectable</code> skeleton. The skeleton is available through executing the CLI (<code>ng generate service [name-of-service]]</code>).</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// services/logger.service.ts</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Injectable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">LogMessage</span> <span class=\\\"token punctuation\\\">{</span>\\n  message<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">;</span>\\n  timestamp<span class=\\\"token punctuation\\\">:</span>Date<span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n@<span class=\\\"token function\\\">Injectable</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  providedIn<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'root'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">LoggerService</span> <span class=\\\"token punctuation\\\">{</span>\\n  callStack<span class=\\\"token punctuation\\\">:</span>LogMessage<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">addLog</span><span class=\\\"token punctuation\\\">(</span>message<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// prepend new log to bottom of stack</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">{</span> message<span class=\\\"token punctuation\\\">,</span> timestamp<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Date</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">concat</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">clear</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// clear stack</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">printHead</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// print bottom of stack</span>\\n      console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">[</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">||</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">printLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// print bottom to top of stack on screen</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">reverse</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">forEach</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span>logMessage<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">=></span> console<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">log</span><span class=\\\"token punctuation\\\">(</span>logMessage<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">getLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>LogMessage<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// return the entire log as an array</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>callStack<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">reverse</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>LoggerService registers with the root module through the <code>@Injectable</code> metadata. Thus it can instantiate in the <code>app.component.html</code>.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// app.component.ts</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Component<span class=\\\"token punctuation\\\">,</span> OnInit <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> LoggerService <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'./services/logger.service'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n@<span class=\\\"token function\\\">Component</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  selector<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'app-root'</span><span class=\\\"token punctuation\\\">,</span>\\n  templateUrl<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'./app.component.html'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">AppComponent</span> <span class=\\\"token keyword\\\">implements</span> <span class=\\\"token class-name\\\">OnInit</span> <span class=\\\"token punctuation\\\">{</span>\\n  logs<span class=\\\"token punctuation\\\">:</span>object<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">private</span> logger<span class=\\\"token punctuation\\\">:</span>LoggerService<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">updateLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">printHead</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logs <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">logMessage</span><span class=\\\"token punctuation\\\">(</span>event<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">any</span><span class=\\\"token punctuation\\\">,</span> message<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      event<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">preventDefault</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`Message: </span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>message<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">clearLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">clear</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logs <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">ngOnInit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">void</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>logger<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addLog</span><span class=\\\"token punctuation\\\">(</span>“View Initialized”<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">updateLog</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>The template HTML provides further insight into the component’s use of LoggerService.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-html\\\"><code><span class=\\\"token comment\\\" spellcheck=\\\"true\\\">&lt;!-- app.component.html --></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h1</span><span class=\\\"token punctuation\\\">></span></span>Log Example<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h1</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>form</span> <span class=\\\"token attr-name\\\">(submit)</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>logMessage($event, userInput.value)<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>input</span> <span class=\\\"token attr-name\\\">#userInput</span> <span class=\\\"token attr-name\\\">placeholder</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>Type a message...<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>button</span> <span class=\\\"token attr-name\\\">type</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>submit<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>SUBMIT<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>button</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>form</span><span class=\\\"token punctuation\\\">></span></span>\\n\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>h3</span><span class=\\\"token punctuation\\\">></span></span>Complete Log<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>h3</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>button</span> <span class=\\\"token attr-name\\\">type</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>button<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">(click)</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>clearLog()<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>CLEAR<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>button</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>ul</span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>li</span> <span class=\\\"token attr-name\\\">*ngFor</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>let log of logs; let i<span class=\\\"token punctuation\\\">=</span>index<span class=\\\"token punctuation\\\">\\\"</span></span><span class=\\\"token punctuation\\\">></span></span>{{ logs.length - i }} > {{ log.message }} @ {{ log.timestamp }}<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>li</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>ul</span><span class=\\\"token punctuation\\\">></span></span>\\n</code></pre>\\n      </div>\\n<p>This has the feel of a ToDo application. You can log messages and clear the log of messages. Imagine if all the logic from the service was shoved into AppComponent! It would have complicated the code. LoggerService keeps the log-related code encapsulated from the core AppComponent class.</p>\\n<h5>Fetch Requests</h5>\\n<p>Here is one more example worth playing around with. This example is possible thanks to <a href=\\\"https://jsonplaceholder.typicode.com\\\">typicode’s JSONPlaceholder<sup>1</sup></a>. The API is public and free to use.</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-typescript\\\"><code><span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Injectable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/core'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> HttpClient <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'@angular/common/http'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span> Observable <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'rxjs'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// https://jsonplaceholder.typicode.com</span>\\n<span class=\\\"token comment\\\" spellcheck=\\\"true\\\">// public API created by typicode @ https://github.com/typicode</span>\\n\\n<span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">Post</span> <span class=\\\"token punctuation\\\">{</span>\\n  userId<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">number</span><span class=\\\"token punctuation\\\">;</span>\\n  id<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">number</span><span class=\\\"token punctuation\\\">;</span>\\n  title<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">;</span>\\n  body<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">string</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n\\n@<span class=\\\"token function\\\">Injectable</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>\\n  providedIn<span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'root'</span>\\n<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">PlaceholderService</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">constructor</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">private</span> http<span class=\\\"token punctuation\\\">:</span>HttpClient<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span> <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">getPosts</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>Observable<span class=\\\"token operator\\\">&lt;</span>Post<span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'https://jsonplaceholder.typicode.com/posts'</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token function\\\">getPost</span><span class=\\\"token punctuation\\\">(</span>id<span class=\\\"token punctuation\\\">:</span><span class=\\\"token keyword\\\">number</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>Observable<span class=\\\"token operator\\\">&lt;</span>Post<span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>http<span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">get</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`https://jsonplaceholder.typicode.com/posts/</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>id<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\\n<p>This is more of a stand-alone piece than a fully fleshed out example. Fetch requests tend to work better as an injectable service. The alternative is an over-complicated component. The injected class subscribes to what the PlaceholderService pre-configures.</p>\\n<h4>Conclusion</h4>\\n<p>Services and dependency injection are very useful together. They allow developers to encapsulate common logic and inject across multiple different components. This alone is a massive convenience for any future maintenance.</p>\\n<p>Injectors work as intermediaries. They mediate between instantiating components and a reservoir of registered services. Injectors offer these instantiable services to their branch children.</p>\\n<p>See the next few links for more information on services and dependency injection.</p>\\n<h2>Sources</h2>\\n<ol>\\n<li><a href=\\\"https://jsonplaceholder.typicode.com\\\">Typicode, <em>JSONPlaceholder</em>, https://jsonplaceholder.typicode.com, Accessed 29 May 2018.</a></li>\\n</ol>\\n<h2>Resources</h2>\\n<ul>\\n<li>\\n<p><a href=\\\"https://angular.io/docs\\\">Angular Documentation</a></p>\\n</li>\\n<li>\\n<p><a href=\\\"https://github.com/angular/angular\\\">Angular GitHub Repository</a></p>\\n</li>\\n<li>\\n<p><a href=\\\"https://angular.io/guide/dependency-injection-pattern\\\">Dependency Injection</a></p>\\n</li>\\n<li>\\n<p><a href=\\\"https://angular.io/guide/architecture-services\\\">Intro to Services and DI</a></p>\\n</li>\\n</ul>\",\"fields\":{\"slug\":\"/angular/services-and-injectors/\"},\"frontmatter\":{\"title\":\"Services and Injectors\"}}},\"pathContext\":{\"slug\":\"/angular/services-and-injectors/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/angular-services-and-injectors.json\n// module id = 3594\n// module chunks = 24036312712708"],"sourceRoot":""}